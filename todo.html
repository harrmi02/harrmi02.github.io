<html>
<head>
    <title>To Do List</title>
	<link rel="stylesheet" href="ToDo.css" type="text/css"/>
	<script type = "text/javascript">
           
        Task = function(name, priority, dueDate, projectName){
        	this.name = name;
        	this.priority = priority;
        	this.due = dueDate;
        	this.project = projectName;
        	this.done = false;
        	
        	this.finish = function(){
        		if(!this.done){
        			this.style.textDecoration = 'line-through';
        			this.done = true;
        		}else{
        			this.style.textDecoration = 'none';
        			this.done = false;
        			}
        	}
        	
        }
        
        TaskList = function(){
        	var tasks = [];
        	
        	this.addTask = function(newTask){
        		tasks.push(newTask);
        		for(i = 0; i < tasks.length; i++){
        			
        		}
        	}
        	
        	this.removeTask = function(task){
        	
        	}
        	
        	this.saveAll = function(){
        	
        	}
        	
        	this.restoreAll = function(){
        	
        	}
        }
        /*taskDone = function(){
            task = this.nextSibling;
            if (this.checked) {
                task.style.textDecoration = 'line-through';
                task.classList.toggle("done");
            } else {
                task.style.textDecoration = 'none';
                task.classList.toggle("done");
            }
            localSave();
        }   
        
        localSave = function(){
        	res = [];
        	var i;
        	allEntries = document.querySelectorAll('td');
        	for(i=0; i< allEntries.length; i++){
        		if(!allEntries[i].classList.contains("done")){
        		    res.push(allEntries[i].innerText);
        		    res.push(allEntries[i].className);
        			}
        		}
        		console.log(res)
        		localStorage.setItem("todoDatabase", JSON.stringify(res));
        }
        
        restoreList = function(){
        	taskCount = 0;
        	oldList = JSON.parse(localStorage.getItem("todoDatabase"));
        	for(i = 0; i < oldList.length; i+=2){
        		taskCount++;
        		table = document.querySelector('#list');
                row = document.createElement('tr');
                task = document.createElement('td');
                
                task.innerHTML = oldList[i];
                task.className = oldList[i + 1];
                
                checkBox = document.createElement('input');
                checkBox.type = 'checkbox';
                var id = taskCount.toString();
                checkBox.id = id;

                table.appendChild(row);
                row.appendChild(checkBox);
                row.appendChild(task);

                checkBox.onclick = taskDone;
        	}
        }

        addTask = function () {
            if (document.querySelector('#newTask').value != "") {
                var newTask;
                var priority;
                taskCount++;
                
                table = document.querySelector('#list');
                row = document.createElement('tr');
                task = document.createElement('td');

                newTask = document.querySelector('#newTask').value;
                task.innerHTML = newTask;

                priority = document.querySelector('#priority').value;
                task.className = priority;

                checkBox = document.createElement('input');
                checkBox.type = 'checkbox';
                var id = taskCount.toString();
                checkBox.id = id;

                table.appendChild(row);
                row.appendChild(checkBox);
                row.appendChild(task);

                checkBox.onclick = taskDone;

                document.querySelector('#newTask').value = "";
                localSave();
            }
            }*/
	</script>
</head>
<body onload = "restoreList()">
    
	<div>
        <p>To Do List</p>
        <div id="addTask">
            <section>
                <label for='newTask'>New Task:</label>
                <input id="newTask" type="text"/>
                <select id="priority">
                    <option value="low">Low Priority</option>
                    <option value="med">Medium Proirity</option>
                    <option value="high">High Priority</option>
                </select>
                <button id="add" onclick="addTask()">Add</button>
            </section>
        </div>  
        <article>
            <table id="list"></table>
        </article>

	</div>
</body>
</html>